<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <link rel="icon" type="image/svg" sizes="32x32" href="LOGO.svg" />
  <link rel="icon" type="image/svg" sizes="16x16" href="LOGO.svg" />
  <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="./build/tailwind.css" />
  <link rel="stylesheet" href="./assets/loading.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer">
  <!-- Link Swiper's CSS -->
  <link rel="stylesheet" href="https://unpkg.com/swiper@6.8.4/swiper-bundle.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@splidejs/splide@latest/dist/css/splide.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@splidejs/splide-extension-video@latest/dist/css/splide-extension-video.min.css">

  <title>Yô Home</title>

  <script src="scripts/commonYo.old.js"></script>
  <script src="/dashboard/js/commonYo.js"></script>
  <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.1.1.min.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.19.3/dist/jquery.validate.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.19.3/dist/additional-methods.min.js"></script>



  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-V0C85S2RG3"></script>
  <script>
    let redirectUrl

    function checkUrlRedirect() {
      const urlParams = new URLSearchParams(window.location.search);
      redirectUrl = urlParams.get('redirectUrl');
      if (redirectUrl != undefined && redirectUrl != "") {
        toggleModal()
      }
    }

    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());


    gtag('config', 'G-V0C85S2RG3');
    checkCurrentUserNoBlock()

    if (clientInfo) gtag('set', { 'id': clientInfo.ClientId.substring(7) });

  </script>

  <script>
    let selectedModal = ""

    function getCookie(name) {
      var dc = document.cookie;
      var prefix = name + "=";
      var begin = dc.indexOf("; " + prefix);
      if (begin == -1) {
        begin = dc.indexOf(prefix);
        if (begin != 0) return null;
      }
      else {
        begin += 2;
        var end = document.cookie.indexOf(";", begin);
        if (end == -1) {
          end = dc.length;
        }
      }
      // because unescape has been deprecated, replaced with decodeURI
      //return unescape(dc.substring(begin + prefix.length, end));
      return decodeURI(dc.substring(begin + prefix.length, end));
    }

    $(document).ready(function () {
      

      // checkUrlRedirect()
      var myCookie = getCookie("login_session");



      if (myCookie == null) {
      }
      else {

        var tokens = myCookie.split(".");
        checkCurrentUserNoBlock()
        getUserPoints().then(userPoints => {
          $("#pointsUser").text(userPoints)
        })

        // console.log(atob(tokens[0])); //Alg, Type
        var clientObject = JSON.parse(atob(tokens[1])) //Id, ClientType, Iat, exp

        var clientType = clientObject.clientType

        //Adiciona nome de usuario
        $('#userNameDrop').text(decodeURIComponent(escape(clientObject.nickName)))
        $('#userNameDrop').append('<div class="flex-wrap flex ml-4 lg:ml-24 fas fa-bars fa-lg"></div>')



        $("#infoRegister").hide()

        if (clientType < 2) { //TODO: Popups avisando terminar cadastro ou aguardar aprovacao

          $('.usuario-button').removeClass('hidden');
          $(".login-button").hide()
          $(".usuario-button").show()


          selectedModal = '.modalWarning' //TODO: POPUP - arrumar
          toggleModal(selectedModal) //TODO: POPUP - arrumar

        }
        else if (clientType >= 2) {
          $('.usuario-button').removeClass('hidden');
          // $('.explorar-button').removeClass('hidden');

          $(".login-button, .cadastro-button").hide()
          $(".usuario-button").show()



        }




      }



    });

    function recoverPassword() {
      $('html, body').css({
        overflow: 'hidden',
        height: '100%'
      });

      $(".loading").parent().removeClass('hidden')

      var validator = $('#loginForms').validate()
      if (validator.element("#email")) {

        data = {
          email: $("#email").val().toLowerCase()
        }

        data = JSON.stringify(data)

        let recoverPasswordUri = "https://044er6jwuc.execute-api.us-east-1.amazonaws.com/dev-2/recoverpassword"

        if (devMode) {
          recoverPasswordUri = "https://8e9nbq8rj1.execute-api.us-east-2.amazonaws.com/DEV/recoverpassword"
        }
        $.ajax({
          url: recoverPasswordUri,
          type: 'POST',
          data: data,
          "contentType": "application/json",
          success: function (data1, textStatus, jqXHR) {

            $('html, body').css({
              overflow: 'auto',
              height: 'auto'
            });
            $(".loading").parent().addClass('hidden')

            alert('Você solicitou a recuperação da sua senha. Caso o seu e-mail esteja cadastrado, você receberá uma mensagem com as instruções sobre como redefini-la.');
          },
          error: function (jqXHR, textStatus, errorThrown) {

            $('html, body').css({
              overflow: 'auto',
              height: 'auto'
            });
            $(".loading").parent().addClass('hidden')

            alert('Você solicitou a recuperação da sua senha. Caso o seu e-mail esteja cadastrado, você receberá uma mensagem com as instruções sobre como redefini-la.');


          },
        })

      } else {
        $('html, body').css({
          overflow: 'auto',
          height: 'auto'
        });
        $(".loading").parent().addClass('hidden')
      }


    }


    function getUserInfo(token) {
      return new Promise((resolve, reject) => {



        let data = {}
        let clientObject = {}
        if (token) {
          if (typeof (token) === typeof ("string")) {
            var tokens = token.split(".");

            // console.log(atob(tokens[0])); //Alg, Type
            clientObject = JSON.parse(atob(tokens[1])) //Id, ClientType, Iat, exp



          }


          var clientId = clientObject.ClientId
          // objFormUser["ClientId"] = clientId
          data = {
            "ClientId": clientId
          }

        }

        //TODO: Usar os headers e nao clientid como argumento
        data = JSON.stringify(data)

        let getUserUri = "https://044er6jwuc.execute-api.us-east-1.amazonaws.com/dev-2/getuser"

        if (devMode) {
          getUserUri = "https://wuixd5ec4b.execute-api.us-east-2.amazonaws.com/DEV/getuser"
        }

        $.ajax({
          url: getUserUri,
          type: 'POST',
          data: data,
          headers: {
            'Authorization': token,
          },
          "contentType": "application/json",
          success: function (data1, textStatus, jqXHR) {
            let element = data1
            if (`${element["terms"]}` == 'undefined' || `${element["privacy"]}` == 'undefined') {
              window.location.href = "/onboarding/";

            }
            resolve(`${element["points"]}`)


          },
          error: function (jqXHR, textStatus, errorThrown) {

          },
        })


      })
    }

  </script>


</head>

<body class="antialiased text-gray-800 font-niveau">

  <div class="flex justify-end">
    <h1 class="fixed z-50 my-64">
      <span class="sr-only">Badge Beta</span>
      <img src="assets/badge_beta.svg" class="h-32">
    </h1>
  </div>


  <!--- REMOVER TODO REMOVER !!!!!!!!!1-->
  <div class="w-10 h-full fixed hidden flex z-50" id="devModeShow">
    <script>
      $(document).ready(function () {
        if (checkDevMode()) {
          console.log('hello')
          $('#devModeShow').removeClass('hidden')
        }
      })
    </script>
    <div class="h-full ml-auto bg-blue-800 flex flex-col justify-around">
      <p class="font-black text-white text-center align-middle">DEV MODE</p>
    </div>
  </div>

  <div class="hidden absolute bg-gray-900 bg-opacity-50 z-30 w-full h-full flex justify-center items-center">
    <div class="loading dot-pulse">

    </div>
  </div>

  <header style="background-image: url('HEADER_FOTO.jpg');"
    class="relative bg-no-repeat bg-cover p-10 md:p-4  z-5 bg-bottom lg:bg-center">




    <div class="flex items-center flex-wrap justify-between mb-6 md:mb-0">
      <a onclick="location.href='/home/'">
        <h1>
          <span class="sr-only">Yo</span>
              <img src="LOGO.svg" class="h-20 flex-1">




        </h1>
      </a>

      <a href="#"
        class="login-button modal-open md:mx-10 mx-4 bg-green_light px-5 py-2 rounded-full hover:bg-green_detail hover:border-green_detail border-4 border-green_light text-green_dark inline-flex items-center">Login
        <!-- <div class="hidden flex-wrap md:flex ml-4 lg:ml-32 fas fa-bars fa-lg"></div> -->
      </a>
      <!--Modal-->
      <style>
        .modal {
          transition: opacity 0.25s ease;
        }

        body.modal-active {
          overflow-x: hidden;
          overflow-y: visible !important;
        }
      </style>

      <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script> -->
      <script>
        function onSubmit(form) {
          var dataFormArray = $(form).serializeArray()

          var objForm = {}

          dataFormArray.forEach(x => {
            objForm[x.name] = x.value
          })
          objForm['email'] = objForm['email'].toLowerCase()

          data = JSON.stringify(objForm)


          $('html, body').css({
            overflow: 'hidden',
            height: '100%'
          });

          $(".loading").parent().removeClass('hidden')

          let loginUri = "https://044er6jwuc.execute-api.us-east-1.amazonaws.com/dev-2/login"

          if (devMode) {
            loginUri = "https://8e9nbq8rj1.execute-api.us-east-2.amazonaws.com/DEV/login"
          }

          $.ajax({
            url: loginUri,
            type: 'POST',
            data: data,
            "contentType": "application/json",
            success: function (data1, textStatus, jqXHR) {
              document.cookie = `login_session=${data1.token}; max-age=86400; path=/`;
              $('html, body').css({
                overflow: 'auto',
                height: 'auto'
              });
              $(".loading").parent().addClass('hidden')

              if (redirectUrl != "" && redirectUrl != undefined) {
                window.location.href = redirectUrl
              } else {
                window.location.reload();
              }


            },
            error: function (jqXHR, textStatus, errorThrown) {
              $('html, body').css({
                overflow: 'auto',
                height: 'auto'
              });
              $(".loading").parent().addClass('hidden')
              document.getElementById("error").innerHTML = "Email ou senha incorretos."


            },





          })

          return false //don't submit
        }
      </script>
      <div
        class="modal opacity-0 pointer-events-none fixed w-full h-full top-0 left-0 flex items-center justify-center z-20">
        <div class="modal-overlay absolute w-full h-full bg-gray-900 opacity-50"></div>

        <div class="modal-container bg-white w-11/12 md:max-w-md mx-auto rounded-lg shadow-lg z-50 overflow-y-auto">



          <!-- Add margin if you want to see some of the overlay behind the modal-->
          <div class="modal-content py-4 text-left px-6">
            <!--Title-->
            <div class="flex justify-between items-center pb-3">
              <p class="text-sm font-bold text-green_dark mx-auto">Entrar</p>
              <div class="modal-close cursor-pointer z-50">
                <svg class="fill-current text-black" xmlns="http://www.w3.org/2000/svg" width="18" height="18"
                  viewBox="0 0 18 18">
                  <path
                    d="M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z">
                  </path>
                </svg>
              </div>
            </div>

            <!--Body-->
            <form class="space-y-4" action="#" method="POST" id="loginForms" onsubmit="return onSubmit(this)">
              <input type="hidden" name="remember" value="true">
              <div class="rounded-md  -space-y-px">
                <div class="grid gap-6 mb-4">
                  <div class="col-span-12">
                    <input placeholder="Email" type="email" name="email" id="email" autocomplete="email"
                      class="text-green_dark border-b-2 border-gray-500 mt-1 h-10 outline-none block w-full  sm:text-sm ">
                  </div>

                  <div class="col-span-12">
                    <input placeholder="Senha" type="password" name="password" id="password"
                      autocomplete="current-password"
                      class="mb-4 text-green_dark border-b-2 outline-none border-gray-500 mt-1 h-10 block w-full sm:text-sm ">
                    <div id="error" class="text-red-400"></div>
                  </div>


                </div>
                <a onClick="recoverPassword();" href="#" class="text-green_dark cursor-pointer underline sm:text-sm">
                  Esqueci minha senha
                </a>
              </div>


              <!-- <div class="mb-6 text-sm">
            <a href="#" class="mt-1 text-green_medium underline font-medium hover:text-green_dark">
              Esqueci minha senha
            </a>
          </div> -->

              <div>
                <button type="submit"
                  class="mb-2 text-green_dark group relative flex mx-auto justify-center px-10 py-1 rounded-full hover:bg-green_detail hover:border-green_detail text-center border-4 border-green_light text-sm bg-green_light">

                  Login
                </button>
              </div>


            </form>


            <!--Footer-->


          </div>
        </div>
      </div>




      <!-- Modal aviso de registro -->
      <div
        class="modalWarning opacity-0 pointer-events-none fixed w-full h-full top-0 left-0 flex items-center justify-center z-20">
        <div class="modal-overlay absolute w-full h-full bg-gray-900 opacity-50"></div>

        <div class="modal-container bg-white w-11/12 md:max-w-md mx-auto rounded-lg shadow-lg z-50 overflow-y-auto">



          <!-- Add margin if you want to see some of the overlay behind the modal-->
          <div class="modal-content py-4 text-left px-6">
            <!--Title-->
            <div class="flex justify-between items-center pb-3">
              <p class="text-sm font-bold text-green_dark mx-auto">Aviso!</p>
              <div class="modal-close cursor-pointer z-50">
                <svg class="fill-current text-black" xmlns="http://www.w3.org/2000/svg" width="18" height="18"
                  viewBox="0 0 18 18">
                  <path
                    d="M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z">
                  </path>
                </svg>
              </div>
            </div>

            <!--Body-->

            <div class="text-center text-green_dark leading-relaxed">
              Obrigado! Caso já tenha finalizado o preenchimento do cadastro, enviaremos um e-mail de aprovação. Se ainda precisar preencher algum campo,
               <a onclick="location.href='/onboarding/'"
                class="cursor-pointer underline">clique aqui</a> para finalizar o preenchimento.
            </div>

            <!--Footer-->


          </div>
        </div>
      </div>







      <script>
        var openmodal = document.querySelectorAll('.modal-open')
        for (var i = 0; i < openmodal.length; i++) {
          openmodal[i].addEventListener('click', function (event) {
            event.preventDefault()
            toggleModal()
          })
        }

        const overlay = document.querySelector('.modal-overlay')
        overlay.addEventListener('click', toggleModal)

        var closemodal = document.querySelectorAll('.modal-close')
        for (var i = 0; i < closemodal.length; i++) {
          closemodal[i].addEventListener('click', toggleModal)
        }

        document.onkeydown = function (evt) {
          evt = evt || window.event
          var isEscape = false
          if ("key" in evt) {
            isEscape = (evt.key === "Escape" || evt.key === "Esc")
          } else {
            isEscape = (evt.keyCode === 27)
          }
          if (isEscape && document.body.classList.contains('modal-active')) {
            toggleModal()
          }
        };


        function toggleModal(modalArgs) {
          if (selectedModal != '.modal') {
            modalArgs = selectedModal
          }


          console.log(modalArgs)


          if (!modalArgs || typeof (modalArgs) != "string" || modalArgs == "") {
            modalArgs = '.modal'

          }

          const body = document.querySelector('body')
          const modal = document.querySelector(modalArgs)
          modal.classList.toggle('opacity-0')
          modal.classList.toggle('pointer-events-none')
          body.classList.toggle('modal-active')

          if (typeof (modalArgs) != "object") selectedModal = modalArgs


        }


      </script>
      <script>
        function removeCookie() {
          document.cookie = "login_session=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/";
        }
      </script>
      <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>
      <div x-data="{ dropdownOpen: false }" class="usuario-button hidden relative">
        <a href="#" @click="dropdownOpen = !dropdownOpen"
          class="md:mx-10 mx-4 bg-green_light px-5 py-2 rounded-full hover:bg-green_detail hover:border-green_detail border-4 border-green_light text-green_dark hidden md:inline-flex items-center"
          id="userNameDrop">Usuário
        </a>

        <a href="#" @click="dropdownOpen = !dropdownOpen"
          class="md:mx-10 mx-4 bg-green_light px-5 py-2 rounded-full hover:bg-green_detail hover:border-green_detail border-4 border-green_light text-green_dark sm:hidden inline-flex items-center">
          <div class="flex-wrap flex sm:ml-24 fas fa-bars fa-lg"></div>
        </a>



        <div x-show="dropdownOpen" @click="dropdownOpen = false" class="fixed inset-0 h-full w-full z-10"></div>

        <div x-show="dropdownOpen"
          class="absolute right-0 mt-2 py-2 sm:w-3/4 sm:mr-10 bg-white rounded-md shadow-xl z-20">
          <!-- <a href="#" class="block px-4 py-2 text-base capitalize text-gray-700 hover:bg-green_light hover:text-black">
            Perfil
          </a> -->
          <a onclick="location.href='/onboarding/'"
            class="cursor-pointer block px-4 py-2 text-base capitalize text-gray-700 hover:bg-green_light hover:text-black">
            Editar Cadastro
          </a>
          <a onclick="location.href='/usuario/residence/calendar/'"
            class="cursor-pointer block px-4 py-2 text-base capitalize text-gray-700 hover:bg-green_light hover:text-black">
            Adicionar Datas
          </a>
          <a onclick="location.href='/dashboard/chat/'"
            class="block cursor-pointer px-4 py-2 text-base capitalize text-gray-700 hover:bg-green_light hover:text-black">
            Mensagens
          </a>
          <!-- <a href="#" class="block px-4 py-2 text-base capitalize text-gray-700 hover:bg-green_light hover:text-black">
            Painel
          </a> -->

          <a id="parentPoints" onclick="location.href='/usuario/'"
                        class="flex flex-col justify-between text-base font-normal   cursor-pointer px-4 py-2 capitalize text-gray-700 hover:bg-green_light hover:text-black">
                        <div class="flex justify-between"><div>Pontuação:</div> <div id="pointsUser" class="font-bold mx-10 sm:mx-0 text-green_medium text-xl"></div></div>
                        <div class="text-sm text-green_medium">Ver histórico</div>
                    </a>

          <a href="/home/" onclick="removeCookie()"
            class="block px-4 py-2 text-base capitalize border-t border-green_light text-gray-700 hover:bg-green_light hover:text-black">
            Log out
          </a>

        </div>
      </div>


    </div>




    <div class="grid justify-items-center lg:py-48 py-4 ">
      <h2 class="lg:text-5xl text-3xl font-bold text-white leading-none mb-6 md:mb-2">Seja bem-vindo</h2>
      <h2 class="lg:text-2xl text-xl text-white leading-none mb-4 text-center">Yô é um clube exclusivo para troca de
        casas.</h2>
      <a href="/onboarding/"
        class="cadastro-button bg-green_light px-10 py-3 mb-6 rounded-full  hover:bg-green_detail hover:border-green_detail text-center border-4 border-green_light text-green_dark">Quero
        fazer parte</a>
      <a href="/dashboard/buscador/"
        class="explorar-button bg-green_light px-10 py-3 rounded-full hover:bg-green_detail hover:border-green_detail text-center border-4 border-green_light text-green_dark">Explorar</a>




    </div>


  </header>

  <div class="grid items-center justify-center  mx-auto lg:py-16 py-12 lg:px-0 px-4">

    <h3 class="grid justify-items-center text-green_dark font-bold text-xl md:text-3xl mb-4 leading-none">Para onde você
      quer ir?</h3>
    <h3 id="infoRegister"
      class="grid md:flex justify-items-center text-green_dark text-lg md:text-xl mb-8 leading-none">Para ter acesso a
      todas nossas casas,&nbsp;<a onclick="location.href='/onboarding/'" class="underline cursor-pointer font-bold">faça
        o seu cadastro no Yô.</a>
    </h3>


    <!-- Menu de destinos -->
    <style>
      nav {
        position: relative;
        display: flex;
      }

      nav a {
        position: relative;
        /* margin: 0 20px; */
        font-size: 2em;
        color: #455F5D;
        text-decoration: none;
      }

      nav #marker {
        position: absolute;
        height: 4px;
        left: 0;
        width: 15%;
        background: #455F5D;
        bottom: -8px;
        transition: 0.5s;
        border-radius: 4px;
      }


      nav #marker2 {
        position: absolute;
        height: 1px;
        left: 0;
        width: 100%;
        background: #E3F4EE;
        bottom: -8px;
        transition: 0.5s;
        border-radius: 0.5px;
      }
    </style>

    <div class="-mb-10">
      <nav class=" ">
        <div class="rounded-full mx-auto" id="marker2"></div>

        <div class="rounded-full flex" id="marker"></div>

        <!-- <div class="space-x-16"> -->
        <div class="side-nav w-full flex justify-between space-x-2 md:space-x-20" id="sideNav">
          <a id="praiaNav" class="text-lg md:text-xl font-semibold" href="#a" onclick="getHomes('beach')">Praia</a>
          <a id="campoNav" class="text-lg md:text-xl font-semibold" href="#a" onclick="getHomes('country')">Campo</a>
          <a id="montanhaNav" class="text-lg md:text-xl font-semibold" href="#a"
            onclick="getHomes('mountain')">Montanha</a>
          <a id="cidadeNav" class="text-lg md:text-xl font-semibold" href="#a" onclick="getHomes('city')">Cidade</a>
        </div>
        <!-- </div> -->
      </nav>
    </div>
    <script type="text/javascript">
      var marker = document.querySelector('#marker');
      var item = document.querySelectorAll('nav a');

      function indicator(e) {
        marker.style.left = e.offsetLeft + "px";
        marker.style.width = e.offsetWidth + "px";
      }

      item.forEach(link => {
        link.addEventListener("click", (e) => {
          indicator(e.target);
        })
      })

    </script>


  </div>
  <!-- Menu de destinos -->



  <!-- Casas -->
  <style>
    .star_empty {
      fill: transparent;
      stroke: rgba(105, 141, 134, 1);
      stroke-width: 1px;
      stroke-linejoin: round;
      stroke-linecap: round;
      stroke-miterlimit: 4;
      shape-rendering: auto;
    }
  </style>


  <script>

    function getHomes(locationType) {
      let data = { "LocationType": locationType }

      let newHome = $('#newHome')

      function range(size, startAt = 0) {
        return [...Array(size).keys()].map(i => i + startAt);
      }

      function getS3file(name, image, element) {

        if (element.b64img == undefined) {
          let getFileS3Uri = `${getCurrentHomeBaseUri()}/s3/getFile/v3`

          if (devMode) {
            getFileS3Uri = `${getCurrentHomeBaseUri()}/s3/getFile/v3`
          }
          $.ajax({
            url: getFileS3Uri,
            type: "POST",
            data: JSON.stringify({
              "pic-name": name
            }),
            contentType: "application/json",
            success: (x) => {
              image.parent().siblings().addClass('hidden')
              element.b64img = `${x}`
              image.attr("src", element.b64img)
              image.removeClass("hidden")

            }
          })
        } else {
          image.parent().siblings().addClass('hidden')
          image.attr("src", element.b64img)
          image.removeClass("hidden")






        }
      }

      let homesShow = $("#homes_show")

      let getHomesduri = `${getCurrentHomeBaseUri()}/gethomes`

      if (devMode) {
        getHomesduri = `${getCurrentHomeBaseUri()}/gethomes`
      }
      $.ajax({
        url: getHomesduri,
        type: "POST",
        data: JSON.stringify(data),
        contentType: "application/json",

        success: function (x) {
          let dbResponse = x
          homesShow.find(".show_home").remove()

          dbResponse.slice(0, 3).forEach(element => {

            let imageUser = element["picturesS3Urls"]

            let homeClone = newHome.clone()
            if (imageUser !== null) homeClone.find("#img_source").attr("src", getS3file(imageUser[0], homeClone.find("#img_source"), element));

            homeClone.find('#nickName').text(element["nickName"]);
            let locationChange = ''


            if (`${element["state"]}` != "") {
              locationChange = `${element["state"]}`
            } else {
              console.log(`${element["country"]}`)
              locationChange = `${element["country"]}`
            }
            homeClone.find('#Location').text(`${element["city"]}, ` + locationChange + ``);

            let stars = range(element["multiplier"], 1)
            homeClone.attr("onclick", `location.href='/dashboard/casa/detalhes/?homeId=${element['homeId']}'`)

            if (element["multiplier"] < 7 && element["multiplier"] > 2) {
              stars.forEach(startId => {
                homeClone.find('#rank').find(`#s${startId}`).attr("class", "fill-current w-4 h-4 text-green_medium mr-1");
              })
            } else if (element["multiplier"] == 2) {
              homeClone.find('#rank').addClass('hidden')
              homeClone.find('#2').removeClass('hidden')
            } else if (element["multiplier"] == 7) {
              stars.forEach(startId => {
                homeClone.find('#rank').find(`#s${startId}`).attr("class", "fill-current w-4 h-4 text-green_medium mr-1");
              })
              homeClone.find('#rank').find('#s7').removeClass('hidden')
              homeClone.find('#rank').find('#s7').addClass('w-5 h-5')
              homeClone.find('#rank').find('#s6').addClass('hidden')

            }


            let points = starsToPointsPerNight(element["multiplier"])
            let pointsParsed = numberWithPeriod(points)

            homeClone.find('#points').text(pointsParsed);
            homeClone.removeClass("hidden");
            homeClone.addClass("show_home");
            homeClone.attr("id", "show_home");
            homesShow.append(homeClone)
          });
        }
      })
    }

  </script>




  <!-- Destinos -->
  <div class="max-w-7xl mx-auto lg:px-0 px-4">
    <!-- Fotos praia -->

    <section class="justify-center flex items-start flex-wrap lg:my-10 my-6" id="homes_show">


      <!-- Card 1 -->
      <article class="hidden cursor-pointer lg:w-1/3 w-full lg:pr-6 lg:mb-0 mb-6" id="newHome">
        <div class="w-full">
          <div class="items-center h-64 flex justify-center w-full">
            <div class="dot-pulse">
            </div>
          </div>

          <div class="object-center h-4/6">
            <img class="zoom rounded w-full mb-2 object-cover h-64 hidden flex" loading="lazy" id="img_source" src="" />
          </div>
        </div>


        <h1 class="text-green_dark text-3xl font-medium leading-snug" id="nickName">Nome da casa</h1>

        <h1 class="text-green_dark text-xl leading-snug capitalize" id="Location">Cidade, Estado</h1>

        <div class="-mb-1 flex items-center justify-between">
          <div class="flex justify-start items-center" id="rank">
            <!-- use star_filled class  -->

            <svg id='s1' class="star_empty fill-current w-4 h-4 text-green_medium mr-1"
              viewBox="782.018 421.902 23.963 22.79">
              <path id="Trazado_78005"
                d="M 794 421.9017639160156 L 797.7025146484375 429.4039001464844 L 805.9816284179688 430.60693359375 L 799.9908447265625 436.446533203125 L 801.405029296875 444.6921997070312 L 794 440.7991333007812 L 786.594970703125 444.6921997070312 L 788.0091552734375 436.446533203125 L 782.0183715820312 430.60693359375 L 790.2974853515625 429.4039001464844 L 794 421.9017639160156 Z">
              </path>
            </svg>

            <svg id="s2" class="star_empty fill-current w-4 h-4 text-green_medium mr-1"
              viewBox="782.018 421.902 23.963 22.79">
              <path id="Trazado_78005"
                d="M 794 421.9017639160156 L 797.7025146484375 429.4039001464844 L 805.9816284179688 430.60693359375 L 799.9908447265625 436.446533203125 L 801.405029296875 444.6921997070312 L 794 440.7991333007812 L 786.594970703125 444.6921997070312 L 788.0091552734375 436.446533203125 L 782.0183715820312 430.60693359375 L 790.2974853515625 429.4039001464844 L 794 421.9017639160156 Z">
              </path>
            </svg>

            <svg id="s3" class="star_empty fill-current w-4 h-4 text-green_medium mr-1"
              viewBox="782.018 421.902 23.963 22.79">
              <path id="Trazado_78005"
                d="M 794 421.9017639160156 L 797.7025146484375 429.4039001464844 L 805.9816284179688 430.60693359375 L 799.9908447265625 436.446533203125 L 801.405029296875 444.6921997070312 L 794 440.7991333007812 L 786.594970703125 444.6921997070312 L 788.0091552734375 436.446533203125 L 782.0183715820312 430.60693359375 L 790.2974853515625 429.4039001464844 L 794 421.9017639160156 Z">
              </path>
            </svg>

            <svg id="s4" class="star_empty fill-current w-4 h-4 text-green_medium mr-1"
              viewBox="782.018 421.902 23.963 22.79">
              <path id="Trazado_78005"
                d="M 794 421.9017639160156 L 797.7025146484375 429.4039001464844 L 805.9816284179688 430.60693359375 L 799.9908447265625 436.446533203125 L 801.405029296875 444.6921997070312 L 794 440.7991333007812 L 786.594970703125 444.6921997070312 L 788.0091552734375 436.446533203125 L 782.0183715820312 430.60693359375 L 790.2974853515625 429.4039001464844 L 794 421.9017639160156 Z">
              </path>
            </svg>

            <svg id="s5" class="star_empty fill-current w-4 h-4 text-green_medium mr-1"
              viewBox="782.018 421.902 23.963 22.79">
              <path id="Trazado_78005"
                d="M 794 421.9017639160156 L 797.7025146484375 429.4039001464844 L 805.9816284179688 430.60693359375 L 799.9908447265625 436.446533203125 L 801.405029296875 444.6921997070312 L 794 440.7991333007812 L 786.594970703125 444.6921997070312 L 788.0091552734375 436.446533203125 L 782.0183715820312 430.60693359375 L 790.2974853515625 429.4039001464844 L 794 421.9017639160156 Z">
              </path>
            </svg>

            <svg id="s6" class="star_empty w-4 h-4 text-green_medium mr-1" viewBox="782.018 421.902 23.963 22.79">
              <path id="Trazado_78005"
                d="M 794 421.9017639160156 L 797.7025146484375 429.4039001464844 L 805.9816284179688 430.60693359375 L 799.9908447265625 436.446533203125 L 801.405029296875 444.6921997070312 L 794 440.7991333007812 L 786.594970703125 444.6921997070312 L 788.0091552734375 436.446533203125 L 782.0183715820312 430.60693359375 L 790.2974853515625 429.4039001464844 L 794 421.9017639160156 Z">
              </path>
            </svg>

            <svg id="s7" class="hidden star_empty w-5 h-5 text-green_medium mr-1"
              viewBox="782.018 421.902 23.963 22.79">
              <path id="Trazado_78005"
                d="M 794 421.9017639160156 L 797.7025146484375 429.4039001464844 L 805.9816284179688 430.60693359375 L 799.9908447265625 436.446533203125 L 801.405029296875 444.6921997070312 L 794 440.7991333007812 L 786.594970703125 444.6921997070312 L 788.0091552734375 436.446533203125 L 782.0183715820312 430.60693359375 L 790.2974853515625 429.4039001464844 L 794 421.9017639160156 Z">
              </path>
            </svg>

          </div>
          <div class="w-1/2 md:h-full items-end flex hidden" id="2">
            <h1 class="text-md md:text-2xl usuario_font font-black">
              EXPERIENCIA
            </h1>
          </div>
          <h1 class="text-green_medium font-medium text-3xl leading-snug" id="points">2.000</h1>
        </div>


        <div class="flex items-center justify-between">
          <h1 class="text-green_dark text-lg leading-snug">Classificação</h1>
          <h1 class="text-green_dark text-lg leading-snug">Pontos por noite</h1>
        </div>
      </article>



    </section>

    <!-- Fotos praia -->





    <!-- Fotos cidade -->


    <script type="text/javascript">
      $(document).ready(function () {
        getHomes('beach')

        $('.campoNav, .montanhaNav, .cidadeNav').hide();
        $(".side-nav a").each(function (i) {

          $(this).click(function () {

            $('.' + $(this).attr("id")).show();
            var arr = $(this).siblings();
            var id;
            $.each(arr, function () {
              id = $(this).attr("id");
              $('.' + id).hide();
            })

          });
        });
      });
    </script>


<div class="mb-10">
  <div style="padding:56.25% 0 0 0;position:relative;"><iframe
      src="https://player.vimeo.com/video/688835027?h=01bb5ef4b7&amp;badge=0&amp;autoplay=false&amp;player_id=0&amp;app_id=58479&amp;loop=true"
      frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen
      style="position:absolute;top:0;left:0;width:100%;height:100%;" title="Y&amp;ocirc; grande Full HD"></iframe>
  </div>
  <script src="https://player.vimeo.com/api/player.js"></script>
</div>

<style> 
  .container {
    position: relative;
    text-align: center;
    color: white;
  }
  
  /* Bottom left text */
  .bottom-left {
    position: absolute;
    left: 16px;
    bottom: 120px;
    @media (min-width: 640px) {
      bottom: 25px;
  
    }
  }
  </style>
    <div class="splide mb-10" id="primary-slider">
      <div class="splide__track">
        <ul class="splide__list">
          <li class="splide__slide" data-splide-vimeo="https://vimeo.com/701344126">
            <div class="container h-64">
              <img src="assets/thumbnails/t_1.jpg">
              <div class="bottom-left text-green_dark text-sm sm:text-2xl font-bold break-normal">A troca de casas é uma boa ideia para mim?</div>
            </div>
  
          </li>
          <li class="splide__slide" data-splide-vimeo="https://vimeo.com/701344060">
            <div class="container h-64">
              <img src="assets/thumbnails/t_2.jpg">
              <div class="bottom-left text-green_dark text-sm sm:text-2xl font-bold break-normal">Eu preciso ter uma casa para cadastrar e fazer parte do site?</div>
            </div>
  
          </li>
          <li class="splide__slide" data-splide-vimeo="https://vimeo.com/701343946">
            <div class="container h-64">
              <img src="assets/thumbnails/t_3.jpg">
              <div class="bottom-left text-green_dark text-sm sm:text-2xl font-bold break-normal">Como faço para cadastrar minha casa?</div>
            </div>
          </li>
  
          <li class="splide__slide" data-splide-vimeo="https://vimeo.com/701343846">
            <div class="container h-64">
              <img src="assets/thumbnails/t_4.jpg">
              <div class="bottom-left text-green_dark text-sm sm:text-2xl font-bold break-normal">Qualquer casa pode ser cadastrada?</div>
            </div>
          </li>
  
          <li class="splide__slide" data-splide-vimeo="https://vimeo.com/701343727">
            <div class="container h-64">
              <img src="assets/thumbnails/t_5.jpg">
              <div class="bottom-left text-green_dark text-sm sm:text-2xl font-bold break-normal">As casas passam por uma curadoria? Como é feita a classificação?</div>
            </div>
          </li>
  
          <li class="splide__slide" data-splide-vimeo="https://vimeo.com/701343369">
            <div class="container h-64">
              <img src="assets/thumbnails/t_6.jpg">
              <div class="bottom-left text-green_dark text-sm sm:text-2xl font-bold break-normal">Preciso disponibilizar a minha casa no site?</div>
            </div>
          </li>
  
          <li class="splide__slide" data-splide-vimeo="https://vimeo.com/701343541">
            <div class="container h-64">
              <img src="assets/thumbnails/t_7.jpg">
              <div class="bottom-left text-green_dark text-sm sm:text-2xl font-bold break-normal">As trocas de casas precisam ser recíprocas?</div>
            </div>
          </li>
  
          <li class="splide__slide" data-splide-vimeo="https://vimeo.com/701343663">
            <div class="container h-64">
              <img src="assets/thumbnails/t_8.jpg">
              <div class="bottom-left text-green_dark text-sm sm:text-2xl font-bold break-normal">Posso ficar em uma casa de categoria diferente da minha?</div>
            </div>
          </li>
  
          <!-- <li class="splide__slide" data-splide-vimeo="https://vimeo.com/701343663">
            <img src="jeff.jpg">
          </li> -->
  
        </ul>
      </div>
    </div>
    <script src="//cdn.jsdelivr.net/npm/@splidejs/splide@4.0.1/dist/js/splide.min.js"></script>
  <!-- <script src="//cdn.jsdelivr.net/npm/@splidejs/splide-extension-video@0.4.6/dist/js/splide-extension-video.min.js"></script> -->
  <script src="https://cdn.jsdelivr.net/npm/@splidejs/splide-extension-video@0.7.1/dist/js/splide-extension-video.min.js"></script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@1.3.3/dist/js/splide.min.js"></script> -->
    <script>
      document.addEventListener( 'DOMContentLoaded', function () {
          var splide = new Splide('#primary-slider', {
            drag: 'free',
            gap: 8,
            perPage: 3,
            video: {
              disableFullScreen: false,
              loop: false,
      
            },
          })
          splide.mount(window.splide.Extensions)
        })
        </script>
  </div>

  <!-- <div class="bg-green_light mx-auto lg:py-16 py-12 lg:px-0 px-4"> -->
  <!-- <h3 class="grid justify-items-center text-green_dark font-bold text-2xl mb-4 leading-none">Sobre Yô</h3> -->

  <!-- Slider sobre yo -->
  <style>
    .swiper-container {
      width: 100%;
      height: 100%;
    }

    .swiper-slide {
      text-align: center;
      font-size: 18px;
      background: #fff;

      /* Center slide text vertically */
      display: -webkit-box;
      display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;
      -webkit-box-pack: center;
      -ms-flex-pack: center;
      -webkit-justify-content: center;
      justify-content: center;
      -webkit-box-align: center;
      -ms-flex-align: center;
      -webkit-align-items: center;
      align-items: center;
    }

    .swiper-slide img {
      display: block;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .swiper-pagination-bullet {
      width: 15px;
      height: 15px;
      text-align: center;
      line-height: 20px;
      font-size: 12px;
      color: #000;
      opacity: 1;
      border: 1px solid #455F5D;
      background: rgba(0, 0, 0, 0);
    }

    .swiper-pagination-bullet-active {
      color: #fff;
      background: #455F5D;
    }
  </style>

  <!--<div class="swiper-container mySwiper hidden md:flex">
    <div class="swiper-wrapper">
      <div class="swiper-slide hidden md:flex"><img src="slider_images/slider_1.jpg"></div>
      <div class="swiper-slide hidden md:flex"><img src="slider_images/slider_2.jpg"></div>
      <div class="swiper-slide hidden md:flex"><img src="slider_images/slider_3.jpg"></div>
      <div class="swiper-slide hidden md:flex"><img src="slider_images/slider_4.jpg"></div>
      <div class="swiper-slide hidden md:flex"><img src="slider_images/slider_5.jpg"></div>
      <div class="swiper-slide hidden md:flex"><img src="slider_images/slider_6.jpg"></div>
      <div class="swiper-slide hidden md:flex"><img src="slider_images/slider_7.jpg"></div>
      <div class="swiper-slide hidden md:flex"><img src="slider_images/slider_8.jpg"></div>
      <div class="swiper-slide hidden md:flex"><img src="slider_images/slider_9.jpg"></div>
    </div>

    <div class="swiper-pagination"></div>
  </div>

  <div class="swiper-container mySwiper flex md:hidden">
    <div class="swiper-wrapper">
      <div class="swiper-slide hidden md:flex"><img src="slider_images/slider_mobile_1.jpg"></div>
      <div class="swiper-slide hidden md:flex"><img src="slider_images/slider_mobile_2.jpg"></div>
      <div class="swiper-slide hidden md:flex"><img src="slider_images/slider_mobile_3.jpg"></div>
      <div class="swiper-slide hidden md:flex"><img src="slider_images/slider_mobile_4.jpg"></div>
      <div class="swiper-slide hidden md:flex"><img src="slider_images/slider_mobile_5.jpg"></div>
      <div class="swiper-slide hidden md:flex"><img src="slider_images/slider_mobile_6.jpg"></div>
      <div class="swiper-slide hidden md:flex"><img src="slider_images/slider_mobile_7.jpg"></div>
      <div class="swiper-slide hidden md:flex"><img src="slider_images/slider_mobile_8.jpg"></div>
      <div class="swiper-slide hidden md:flex"><img src="slider_images/slider_mobile_9.jpg"></div>
    </div>

    <div class="swiper-pagination"></div>
  </div>-->

  <!-- <div>
    <div style="padding:56.25% 0 0 0;position:relative;"><iframe
        src="https://player.vimeo.com/video/688835027?h=01bb5ef4b7&amp;badge=0&amp;autoplay=false&amp;player_id=0&amp;app_id=58479&amp;loop=true"
        frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen
        style="position:absolute;top:0;left:0;width:100%;height:100%;" title="Y&amp;ocirc; grande Full HD"></iframe>
    </div>
    <script src="https://player.vimeo.com/api/player.js"></script>
  </div> -->

  <!-- <link rel="stylesheet" href="path-to-the-css/splide-extension-video.min.css"> -->

    
  <!-- Swiper JS -->
  <script src="https://unpkg.com/swiper@6.8.4/swiper-bundle.min.js"></script>

  <!-- Initialize Swiper -->
  <script>
    var swiper = new Swiper(".mySwiper", {
      autoplay: {
        delay: 5000,
        disableOnInteraction: false,
      },
      pagination: {
        el: ".swiper-pagination",
        clickable: true
      }
    });
  </script>


  <!-- Slider sobre yo -->




  </div>

  <footer class="bg-green_medium py-10 text-sm">
    <div class=" mx-10 mb-6 border-gray-300 px-4 text-center md:text-left lg:px-0">
      <div class="flex flex-col flex-wrap items-start justify-start w-full">


        <h5 class="text-green_light mb-5 sm:mb-2 text-lg">Você tem alguma dúvida? Estamos aqui para ajudar.</h5>

        <div class="flex sm:flex-row flex-col items-center sm:justify-between w-full">

          <div class="sm:flex sm:flex-row mb-10">
            <h5 class="text-green_light mb-2 text-lg">Entre em contato conosco através do email:&nbsp;<h5
                class="text-green_light font-bold text-lg">contato@yocasas.com.br</h5>
            </h5>
          </div>

          <div class="flex sm:flex-row flex-col justify-center sm:justify-between sm:w-1/12">
            <a class="my-6 mx-1 sm:my-0 sm:mx-0" href="https://wa.me/5511991379972">
              <h1>
                <span class="sr-only">Whats App</span>
                <img src="assets/whatsapp.svg" class="h-10 ">
              </h1>
            </a>

            <a class="sm:-my-1 " href="https://www.instagram.com/yo_trocadecasas/">
              <h1>
                <span class="sr-only">Instagram</span>
                <img src="assets/instagram.svg" class="h-16 ">
              </h1>
            </a>
          </div>

        </div>

        <ul class="leading-loose sm:flex sm:flex-row sm:justify-between sm:w-2/5 w-full">
          <li><a onclick="location.href='/onboarding/'"
              class="cursor-pointer sm:text-sm text-xl text-green_light hover:underline" href="#">Cadastro</a></li>
          <li><a class="cursor-pointer text-green_light hover:underline sm:text-sm text-xl"
              href="/home/assets/tabela.pdf" target="_blank">Regras
              e pontuação Yô</a></li>
          <li><a class="cursor-pointer text-green_light hover:underline sm:text-sm text-xl" href="/legal/privacy/"
              target="_blank">Política de privacidade</a></li>
          <li><a class="cursor-pointer text-green_light hover:underline sm:text-sm text-xl" href="/legal/terms/"
              target="_blank">Termos e Condições</a></li>

        </ul>



      </div>
    </div>
    <div class="justify-end flex items-center px-4 mx-10 lg:px-0">
      <p class="text-green_light text-sm pl-2">Copyright &copy; 2021 Yô. All rights reserved.</p>
    </div>
  </footer>






  <!-- <footer class="bg-green_medium border-t border-gray-300 py-10 text-sm">
    <div class="max-w-5xl mx-10 mb-6 border-gray-300 px-4 text-center md:text-left lg:px-0">
      <div class="flex flex-wrap items-start justify-start">
        <div class="lg:w-1/5 w-full lg:mb-0 mb-6">
          <h5 class="font-semibold text-green_light mb-2">Sobre Yô</h5>
          <ul class="leading-loose">
            <li><a class="text-green_light hover:underline" href="#">Como funciona?</a></li>
            <li><a class="text-green_light hover:underline" href="#">Termos e condições</a></li>
            <li><a class="text-green_light hover:underline" href="#">Política de privacidade</a></li>
          </ul>
        </div>
        <div class="lg:w-1/5 w-full lg:mb-0 mb-6">
          <h5 class="font-semibold text-green_light mb-2">Usuário</h5>
          <ul class="leading-loose">
            <li><a class="text-green_light hover:underline" href="#">Perfil</a></li>
            <li><a class="text-green_light hover:underline" href="#">Configurações</a></li>
            <li><a class="text-green_light hover:underline" href="#">Mensagens</a></li>
            <li><a class="text-green_light hover:underline" href="#">Painel</a></li>
          </ul>
        </div>
        <div class="lg:w-1/5 w-full lg:mb-0 mb-6">
          <h5 class="font-semibold text-green_light mb-2">Ajuda</h5>
          <ul class="leading-loose">
            <li><a class="text-green_light hover:underline" href="#">Contato</a></li>
          </ul>
        </div>

      </div>
    </div>
    <div class="max-w-6xl mx-auto justify-end flex items-center px-4 lg:px-0">
      <p class="text-green_light text-sm pl-2">Copyright &copy; 2021 Yô. All rights reserved.</p>
    </div>
  </footer> -->
  <script>
    jQuery.extend(jQuery.validator.messages, {
      required: '<span class="text-red-400 sm:text-sm">Este campo é obrigatório</span>',
      email: '<span class="text-red-400 ">Por favor, digite um email válido.</span>',
      min: jQuery.validator.format('<span class="error12 ">Por favor, digite um valor maior ou igual que {0}.</span>'),
      max: jQuery.validator.format('<span class="error12 ">Por favor, digite um valor menor ou igual que {0}.</span>')

    });
  </script>
</body>

</html>